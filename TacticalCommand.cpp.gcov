        -:    0:Source:TacticalCommand.cpp
        -:    1:#include <iostream>
        -:    2:#include "TacticalCommand.h"
        -:    3:
        -:    4:
        9:    5:void TacticalCommand::setStrategy(BattleStrategy* s) 
        -:    6:{
        9:    7:    this->strategy = s;
        9:    8:}
        -:    9:
        9:   10:void TacticalCommand::executeStrategy() 
        -:   11:{
        9:   12:    if (strategy) 
        -:   13:    {
        9:   14:        strategy->engage();
       9*:   15:         for (auto unit : units) {
    #####:   16:                unit->move();
    #####:   17:                unit->attack();
        -:   18:            }
        -:   19:    }
        9:   20:}
        -:   21:
    #####:   22:void TacticalCommand::chooseBestStrategy() 
        -:   23:{
    #####:   24:      TacticalMemento* memento = archives->getTacticalMemento("last_successful");
    #####:   25:        if (memento) {
    #####:   26:            planner->restoreMemento(memento);
    #####:   27:            strategy = planner->getCurrentStrategy();
        -:   28:        } else {
    #####:   29:            setStrategy(new Flanking());
        -:   30:        }
    #####:   31:}
        3:   32:TacticalCommand::~TacticalCommand() 
        -:   33:{
        3:   34:    cout << "Deleting strategy" << endl;
        -:   35:    //delete strategy;
        -:   36:    // delete planner;
        -:   37:    // delete archives;
       3*:   38:     for (LegionUnit* unit : units) {
    #####:   39:        delete unit;
        -:   40:    }
        -:   41:    //strategy = 0;
        3:   42:}
